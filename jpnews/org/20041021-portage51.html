<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xmlns:rdf="http://www.w3.org/1999/02/22-rdf-syntax-ns#" xmlns:dc="http://purl.org/dc/elements/1.1/" xmlns:rss="http://purl.org/rss/1.0/" xml:lang="ja" lang="ja"><head><meta http-equiv="Content-type" content="text/html; charset=UTF-8"></meta><meta http-equiv="Content-style-type" content="text/css; charset=UTF-8"></meta><meta http-equiv="Content-script-type" content="text/javascript; charset=UTF-8"></meta><title>
					Gentoo Linux Users Group Japan
					
						&#8211;
						Portage 2.0.51 released</title><link title="new" rel="stylesheet" href="/css/main.css" type="text/css"></link><link title="new" rel="stylesheet" href="/css/gentoojp.css" type="text/css"></link><link rev="Made" href="mailto:www@gentoo.gr.jp"></link><link rel="alternate" type="application/rss+xml" title="GentooJP News" href="/gentoojp-news.xml"></link></head><body><div class="logo"><p>日本語：
							[ <a href="http://www.gentoo.gr.jp/">GentooJP</a> ]
							[ <a href="http://wiki.gentoo.gr.jp/">Wiki</a> ]
							</p><p>英語：
							[ <a href="http://www.gentoo.org/">Gentoo.org</a> ]
							[ <a href="http://packages.gentoo.org/">Packages</a> ]
							[ <a href="http://forums.gentoo.org/">Forums</a> ]
              [ <a href="http://bugs.gentoo.org/">Bugzilla</a> ]
              [ <a href="http://wiki.gentoo.org/">Wiki</a> ]</p></div><table class="all" width="99%"><tr><td><div class="navi" align="center"><span><a href="/">トップに戻る</a></span></div></td></tr></table><table border="0" style="margin:0em ! important;" cellspacing="5" width="100%"><tr><td class="sidebar" valign="top" rowspan="2"><h4>はじめに</h4><ul><li><a href="/jpmain/about-gentoojp.html">GentooJPについて</a></li><li><a href="/jpmain/arukikata.html">Gentooの歩き方</a></li><li><a href="/jpmain/contribution.html">Gentooへの貢献</a></li><li><a href="/jpmain/docs-list.html">各種ドキュメント</a></li></ul><h4><a href="http://www.gentoo.org/doc/ja/handbook/handbook-x86.xml">ハンドブック</a></h4><ul><li><a href="http://www.gentoo.org/doc/ja/handbook/handbook-x86.xml?part=1&amp;chap=0">Gentooをインストールする</a></li><li><a href="http://www.gentoo.org/doc/ja/handbook/handbook-x86.xml?part=2&amp;chap=0">Gentooを使いこなす</a></li><li><a href="http://www.gentoo.org/doc/ja/handbook/handbook-x86.xml?part=3&amp;chap=0">Portageを使いこなす</a></li></ul><h4><a href="http://www.gentoo.org/doc/ja/index.xml">翻訳ドキュメント</a></h4><ul><li><a href="http://www.gentoo.org/doc/ja/index.xml?catid=faq">FAQ (よくある質問)</a></li><li><a href="http://www.gentoo.org/doc/ja/index.xml?catid=install">インストール関連ドキュメント</a></li><li><a href="http://www.gentoo.org/doc/ja/index.xml?catid=desktop">Gentooデスクトップドキュメント</a></li><li><a href="http://www.gentoo.org/doc/ja/index.xml?catid=gentoo">Gentooシステムドキュメント</a></li><li><a href="http://www.gentoo.org/doc/ja/index.xml?catid=sysadmin">システム管理ドキュメント</a></li><li><a href="http://www.gentoo.org/doc/ja/index.xml?catid=gentoodev">Gentoo開発ドキュメント</a></li><li><a href="http://www.gentoo.org/doc/ja/index.xml?catid=project">プロジェクト関連ドキュメント</a></li><li><a href="http://www.gentoo.org/doc/ja/index.xml?catid=other">その他のドキュメント</a></li></ul><h4>クイックリンク</h4><ul><li><a href="http://www.gentoo.org/news/ja/gmn/">GMN日本語</a></li><li><a href="http://www.gentoo.org/doc/ja/printing-howto.xml">印刷環境構築ガイド</a></li><li><a href="http://www.gentoo.org/doc/ja/xorg-config.xml">X サーバー設定ガイド</a></li><li><a href="http://www.gentoo.org/doc/ja/gentoo-security.xml">セキュリティガイド</a></li><li><a href="http://www.gentoo.org/doc/ja/faq.xml">FAQ</a></li><li><a href="/jpmain/tips.html">TIPS集</a></li><li><a href="/jpmain/docs-list.html">ドキュメント一覧</a></li></ul><h4>プロジェクト</h4><ul><li><a href="/jpmain/original-doc.html">オリジナルドキュメント</a></li><li><a href="/jpmain/translation.html">翻訳</a><a href="/jpmain/trans_status.html">[状況]</a></li><li><a href="/jpmain/project-gwn.html">GWN翻訳</a></li></ul><h4>その他</h4><ul><li><a href="http://wiki.gentoo.gr.jp/">GentooJP Wiki</a></li><li><a href="/jpmain/about-gentoojp.html#doc_chap4">メーリングリスト</a></li><li><a href="/jpmain/about-gentoojp.html#doc_chap5">IRC</a></li><li><a href="/jpmain/sponsors.html">スポンサー</a></li></ul></td><td valign="top"><div class="day"><div class="body"><div class="section"><table cellpadding="7" cellspacing="0" width="100%" border="0" style="margin-top: 0em;"><tr><td colspan="2" bgcolor="#8C5000" style="border-color: #FFDBA4; border-style: double; border-width: 3px 0em;"><font color="#ffffff"><b>Portage 2.0.51 released</b><br></br><font size="-3">Posted on 21 October 2004 by swift (翻訳: samantha)</font></font></td></tr><tr><td width="100" align="center" valign="top"><img src="/images/icon-gentoo.png" alt="gentoo"></img></td><td valign="top"><p xmlns="">
Gentoo PortageチームはPortage 2.0.51をリリースするという道の上で面白い旅しています。
変更点と新機能に付いての俗説は幾多のサークルで会話されていました。ですから議論はともかくとして、変更点と新機能のリストを提供します。
</p>
<p xmlns=""><b>USEフラグ変更でのリビルド</b></p>
<p xmlns="">
PortageはUSEフラグの変更を反映したパッケージの自動emerge(とre-emerge)のサポートをします。この機能を使用するには<font class="code">emerge</font>に<font class="code">&#8211;newuse</font>オプションを付けてください。
</p>
<a xmlns="" name="doc_chap_pre1"></a><table xmlns="" class="ntable" width="100%" cellspacing="0" cellpadding="0" border="0">
<tr><td bgcolor="#8C5000" class="infohead" style="color: #FFFFFF ! important;"><font color="#FFFFFF">
								Code listing .1: アプリケーションのUSEを認識させる</font></td></tr>
<tr><td bgcolor="#FFE9C8"><pre>
# <font class="input" color="blue">emerge --newuse --update --deep world</font>
</pre></td></tr>
</table>
<p xmlns=""><b>初のGPG認証のサポート</b></p>
<p xmlns="">
どのGentooのパッケージもチェックサムとPortage内でパッケージに付随するファイル群のファイルサイズが書いてある<font class="path">Manifest</font>ファイルを持っています。
(<font class="path">digest-*</font>は、パッケージがダウンロードしたソースファイルに対して同じことをするためのものです。誤解しないように。)
</p>
<p xmlns="">
「Portageは最近のManifestファイルの中に含まれているGPG署名の認証をサポートします。
これはManifestファイルの厳密なGPGチェックを行えば、あなたが使っているrsyncミラーでハッカーが改竄しても、あなたのシステムにはほとんどダメージをあたえられない、ということです。
これはもちろん、ハッカーがGPG証明を無効にせずに変更することができないからです。
</p>
<p xmlns="">
FEATURES変数に<font class="code">gpg</font>を設定して置けば、ユーザは何も意識することなく扱えます。
他のFEATURES変数によって、Portageは&#8221;最小限の信用&#8221;(追加のFEATURES変数なしの場合)、&#8221;少しの信用&#8221;(<font class="code">strict</font>)、GPGキーが署名されていることも要求される&#8221;完全な信用&#8221;(<font class="code">severe</font>)と扱いが変わります。
</p>
<a xmlns="" name="doc_chap_pre2"></a><table xmlns="" class="ntable" width="100%" cellspacing="0" cellpadding="0" border="0">
<tr><td bgcolor="#8C5000" class="infohead" style="color: #FFFFFF ! important;"><font color="#FFFFFF">
								Code listing .2: /etc/make.confでGPG認証を有効にする</font></td></tr>
<tr><td bgcolor="#FFE9C8"><pre>
FEATURES="gpg"                <font class="comment">(For minimal checking, or...)</font>
FEATURES="gpg strict"         <font class="comment">(... For strict checking, or...)</font>
FEATURES="gpg severe strict"  <font class="comment">(... For severe checking)</font>
</pre></td></tr>
</table>
<p xmlns=""><b>FHS準拠</b></p>
<p xmlns="">
新しいPortageはいくつかファイルの再配置をします。
</p>
<ul xmlns="">
<li>仮想(virtual)ファイル(<font class="path">/var/cache/edb/virtuals</font>)はもう使いません。現在は透過的に算出してます。</li>
<li>worldファイルは<font class="path">/var/cache/edb</font>の代わりに<font class="path">/var/lib/portage/</font>の下に配置されます。</li>
<li>
<font class="path">/etc/portage/profile/virtuals</font>は<font class="emphasis">ユーザ</font>設定のみの用途になります。</li>
</ul>
<p xmlns="">
worldファイルの再配置とvirtualの動的なチェックのおかげで、Portageは現在FHSとの整合性がとれています。
例えば、<font class="path">/var/cache</font>以下は消すことができるようになります。実際にcacheデータですし。
</p>
<p xmlns=""><b>パッケージのコンパイル成功の確認</b></p>
<p xmlns="">
新しいebuildは、コンパイルプロセスが正しく終了したかどうかを検査するために、emerge後に走らせる用にいくつかのテストを定義できます。
</p>
<a xmlns="" name="doc_chap_pre3"></a><table xmlns="" class="ntable" width="100%" cellspacing="0" cellpadding="0" border="0">
<tr><td bgcolor="#8C5000" class="infohead" style="color: #FFFFFF ! important;"><font color="#FFFFFF">
								Code listing .3: /etc/make.conf内でマージのテストを有効にする</font></td></tr>
<tr><td bgcolor="#FFE9C8"><pre>
FEATURES="maketest"
</pre></td></tr>
</table>
<p xmlns=""><b>injectされたパッケージの扱いに関する改善</b></p>
<p xmlns=""><font class="code">&#8211;inject</font>は廃止予定です。
パッケージをinjectする場合は<font class="path">/etc/portage/profile/package.provided</font>に(&lt;category&gt;/&lt;name&gt;-&lt;version&gt;)を代わりに使用して追加するべきです。
(訳注: Gentooでは、Portageに(実際のインストールは行わず)されているように見せかけることを<font class="code">inject</font>と呼んでいます。)
</p>
<p xmlns=""><b>大規模のスピードアップ</b></p>
<p xmlns="">
よく聞かれる苦情は「Portageは遅い」ということです。ええ、そうですね。うちも結構がんばってるんですけどね（笑)。
依存性の計算時間は2.0.50の約33%になっています。
</p>
<p xmlns=""><b>埋め込みシステムサポートの改善</b></p>
<p xmlns=""><font class="code">autoconfig</font>の機能を通じて、Portageはgnuconfigが提供するファイルを自動的にアップデートすることでuclibcベースのシステムで構築されたものを扱います。
これはあなた用にアプリケーションを自動的に構成してくれる機能のことでは<font class="emphasis">ありませんよ</font>!
</p>
<a xmlns="" name="doc_chap_pre4"></a><table xmlns="" class="ntable" width="100%" cellspacing="0" cellpadding="0" border="0">
<tr><td bgcolor="#8C5000" class="infohead" style="color: #FFFFFF ! important;"><font color="#FFFFFF">
								Code listing .4: /etc/make.confでuclibcベースの構築を有効にする</font></td></tr>
<tr><td bgcolor="#FFE9C8"><pre>
FEATURES="autoconfig"
</pre></td></tr>
</table>
<p xmlns=""><b>ロックの強化</b></p>
<p xmlns="">
Portageは現在ソフトウェア管理のさまざまな局面でlockfileを使用しています。
これで(フェッチやマージを含めて)正しく並列に動作するようになります。
</p>
<p xmlns=""><b>Eye-candy(みてたのしいもの)</b></p>
<p xmlns="">
&#8220;candy&#8221;機能を有効にすると、Portageが新しくクールなスピナーになっていることに気付くことでしょう。
</p>
<a xmlns="" name="doc_chap_pre5"></a><table xmlns="" class="ntable" width="100%" cellspacing="0" cellpadding="0" border="0">
<tr><td bgcolor="#8C5000" class="infohead" style="color: #FFFFFF ! important;"><font color="#FFFFFF">
								Code listing .5: coolなスピナーをゲット</font></td></tr>
<tr><td bgcolor="#FFE9C8"><pre>
FEATURES="candy"
</pre></td></tr>
</table>
<p xmlns="">もう<font class="code">moo</font>から目が離せない。言いたいことはそれだけさ！</p></td></tr></table></div></div></div></td></tr><tr height="1.3em" valign="bottom"><td height="1.3em" valign="bottom"><div class="footer">[ <a href="http://ml.gentoo.gr.jp/users/">users ML</a> ]
					  [ <a href="http://ml.gentoo.gr.jp/docs/">docs ML</a> ]
					  [ <a href="http://ml.gentoo.gr.jp/dev/">dev ML</a> ]
					  [ <a href="http://ml.gentoo.gr.jp/misc/">misc ML</a> ]
						[ <a href="/jpmain/about-gentoojp.html#doc_chap5">IRC</a> ]</div></td></tr></table><div align="center" class="copy">
					Copyright&copy; 2002-2005 Gentoo Linux Users Group Japan. All rights reserved.<br></br>
					このサイトはGentooJPが運営するGentoo.org非公式コミュニティサイトです。ご質問、ご意見などはこちらまで。 Email: <a href="mailto:www@gentoo.gr.jp">www@gentoo.gr.jp</a></div></body></html>
